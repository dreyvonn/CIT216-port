<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset='utf-8'>
        <title>Ajax Example</title>
        <script>
            /*fetch('https://example.com/data')
            .then()
            .catch()
            
            const url = 'https:example.com/data';
            
            fetch(url)
            .then((response) => {
                if (response.ok) {
                    return response;
                }
                 throw Error(response.statusText);
            })
            .then(response => )
            .catch(error => console.log('ERROR');
            
            fetch(url)
            .then( response => response.json());
            .then(data => console.log(Object.entries(data)))
            .catch(error => console.log('There was an error: ', error));
            
            const request = new Request('https://example.com/data', {
                method: 'GET',
                mode: 'cors',
                redirect: 'follow',
                cache: 'no-cache'
            });
            
            fetch(request)
            .then()
            .catch()
            
            fetch('https://example.com/data', {
                method: 'GET',
                mode: 'cors',
                redirect: 'follow',
                cache: 'no-cache'
            })
            .then()
            .catch()
            
            const headers = new Headers({ 'Content-Type': 'text/plain', 'Accept-Charset': 'utf-8', 'Accept-Encoding': 'gzip,deflate'});
            
            headers.set('Content-Type', 'application/json');
            headers.append('Accept-Encoding','gzip,deflate');
            headers.delete('Accept-Encoding');
            
            //putting it all together
            const url = 'https:example.com/data';
            const headers = new Headers({'Content-Type': 'text/plain', 'Accept-Charset': 'utf-8', 'Accept-Encoding': 'gzip,deflate'});
            
            const request = (url,{
                headers: headers
            })
            
            fetch(request)
            .then(function(response) {
                if (response.ok) {
                    return response;
                }
                throw Error(response.statusText);
            })
            .then(response => );
            .catch(error => console.log('error'));*/
            
            const textButton = document.getElementById('number');
            const apiButton = document.getElementById('chuck');
            const outputDiv = document.getElementById('output');
            
            const textURL = 'http://numbersapi.com/random';
            const apiURL = 'https://api.chucknorris.io/jokes/random';
            
            textButton.addEventListener('click', () => {
                fetch(textURL) .then( response => {
                    outputDiv.innerHTML = 'Waiting for response...'; 
                    if(response.ok) { 
                        return response; 
                    } 
                    throw Error(response.statusText); 
                }) 
                    .then( response => response.text() ) 
                    .then( text => outputDiv.innerText = text )
                    .catch( error => console.log('There was an error:', error)) 
            },false);
            
            apiButton.addEventListener('click', () => {
                fetch(apiURL) 
                    .then( response => { 
                    outputDiv.innerHTML = 'Waiting for response...';
                    if(response.ok) { 
                        return response; 
                    } 
                    throw Error(response.statusText); 
                }) 
                    .then( response => response.json() ) 
                    .then( data => outputDiv.innerText = data.value ) 
                    .catch( error => console.log('There was an error:', error))
            },false);
        </script>
    </head>
    <body>
        <button id='number'>Number Fact</button>
        <button id='chuck'>Chuch Norris Fact</button>
        <div id='output'>
            Ajax response will apear here
        </div>
    </body>
</html>