<!DOCTYPE html>
<html>
    <head>
        <script>          
            var accessToken = "BQAbnRXGFJfGxHPKWkX8EJRYXUYfjW_DweH2YE5ydZtHJ-FRnLwKt0MLrPyVHqAXh_oSqqXMoYGrYjuqitK3CL87yvrMzEWFEBjoqFTzPk0V03Zs9UXLhZeSHo6J6RIWBONtefg8EJf0b-xGJsloHsAH7H_RsbU";
            
            var song;
            function getMusicData(artist) {
                var topSongsObj;
                var topSongs;
                
                var artistIdUrl = 'https://api.spotify.com/v1/search?q=Daft+Punk&type=artist';
                //https://api.spotify.com/v1/search?q=Daft+Punk&type=artist
                
                //var url = 'https://api.spotify.com/v1/artists/' + artistId + '/top-tracks?country=US';
                var url = 'https://api.spotify.com/v1/artists/4tZwfgrHOc3mvqYlEYSvVi/top-tracks?country=US';
                
                var myHeaders = new Headers({
                    'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': 'Bearer ' + accessToken
                });
                
                var artistId;
                
                fetch(artistIdUrl, {headers:myHeaders}).then(function(response) {
                    return response.json();
                })
                    .then(function(text) {
                        artistId = text;
                        //console.log(text);
                    })
                    
                fetch(url, {headers:myHeaders}).then(function(response) {
                    return response.json();
                })
                    .then(function(text) {
                        topSongs = text;
                        
                    })
            }
        </script>
        <style>
        </style>
    </head>
    <body>
        <button type="button" onclick="getMusicData('michl')">Get Music</button>
        <p id="test"></p>
        <div class="container">
            <h1>Search for an Artist</h1>
            <form id="search-form">
                <input type="text" id="query" value="" class="form-control" placeholder="Type an Artist Name"/>
                <input type="submit" id="search" class="btn btn-primary" onclick="getMusicData('https://api.spotify.com/v1/search?q=year%3A2001&type=artist&market=US')" value="Search"/>
            </form>
            <div id="results"></div>
        </div>
    </body>
</html>